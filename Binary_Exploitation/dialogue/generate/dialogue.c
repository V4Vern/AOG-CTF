#include <stdio.h>
#include <string.h>
#include <stdlib.h>

#define FLAGSIZE 64

void print_flag() {
	char flag[FLAGSIZE];

	FILE *f = fopen("flag.txt","r");
	if (f == NULL) {
		printf("Flag File is Missing.\n");
		exit(0);
	}

	fgets(flag,FLAGSIZE,f);
	printf("%s\n", flag);
}

int main(int argc, char** argv) {
	setvbuf(stdin,NULL,2,0);
	setvbuf(stdout,NULL,2,0);
	setvbuf(stderr,NULL,2,0);

	int ans;

	printf("%s\n", "Let's go over some linux terminal commands");
	printf("%s\n", "Which command lists directory contents?\n1) list\n2) ls\n3) showall");

	scanf("%d", &ans);
	if (ans != 2) {
		printf("%s\n", "Nope :(");
		exit(0);
	}
	printf("%s\n", "\nNice! Next Question");
	printf("%s\n", "Which command shows the manual page of a command?\n1) manual\n2) book\n3) man");

	scanf("%d", &ans);
	if (ans != 3) {
		printf("%s\n", "Nope :(");
		exit(0);
	}

	printf("%s\n", "\nCool! Next Question");
	printf("%s\n", "Which command lets you traverse through directories?\n1) cd\n2) goto\n3) travel");

	scanf("%d", &ans);
	if (ans != 1) {
		printf("%s\n", "Nope :(");
		exit(0);
	}

	printf("%s\n", "\nVery good! Next Question");
	printf("%s\n", "Which command concatenate files and print on the standard output?\n1) echo\n2) cat\n3) dog");

	scanf("%d", &ans);
	if (ans != 2) {
		printf("%s\n", "Nope :(");
		exit(0);
	}

	printf("%s\n", "\nSuper! Next Question");
	printf("%s\n", "Which command is not a text editor?\n1) nano\n2) vi\n3) change");

	scanf("%d", &ans);
	if (ans != 3) {
		printf("%s\n", "Nope :(");
		exit(0);
	}

	printf("%s\n", "\nAlright Bonus Question");
	printf("%s\n", "Are you having fun?\n1) Yes\n2) No");

	scanf("%d", &ans);
	if (ans == 1) {
		printf("%s\n", "I'm glad you are :D");
	} else if (ans == 2) {
		printf("%s\n", "Aww man :(");
	} else {
		printf("%s\n", "Alright then, keep your secrets >:U");
	}

	print_flag();
}